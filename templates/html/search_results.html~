{# pandoky/templates/html/search_results.html #}
{% extends "html/base_layout.html" %}
{% block content %}

    <h1>Search Pandoky</h1>

    <form method="POST" action="{{ url_for('bound_search_route') }}" class="search-form"> {# Ensure route name matches registration #}
        <input type="search" name="q" placeholder="Enter search query..." value="{{ query | default('') }}" autofocus>
        <button type="submit">Search</button>
    </form>

    {% if query %}
        <h2>Results for "{{ query }}"</h2>
        {% if results %}
            <ul class="results-list">
                {% for result in results %}
                    <li>
                        <div class="result-title"><a href="{{ result.url }}">{{ result.title }}</a></div>
                        <div class="result-url"><a href="{{ result.url }}">{{ result.url }}</a></div>
                        <div class="result-score">Score: {{ "%.2f"|format(result.score) }}</div>
                        {# Future: Add a snippet of text where the terms were found #}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="no-results">No pages found matching your query.</p>
        {% endif %}
    {% endif %}
{% endblock %}
